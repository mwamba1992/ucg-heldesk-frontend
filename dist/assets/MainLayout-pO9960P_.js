import{d as N,b as A,B as C,e,w as t,C as L,D as b,E as I,F as h,z as y,u as S,G as H,o as v,H as n,x as f,s as U,I as _,J as V,K as P,c as T,L as z,M as E,j as x,N as R,O as j,g as F,k as O,l as c,t as p,P as $,Q as G,m as J,y as K,A as B}from"./index-Cix3CRG3.js";const Q={class:"text-caption"},q={class:"text-h6"},W={class:"text-body-2 text-grey"},X={class:"mt-1"},ee=N({__name:"MainLayout",setup(Y){const w=S(),g=A(),r=y(!0),m=y(!1),l=B(()=>g.user),D=B(()=>{var o,d,a;const u=[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Tickets",icon:"mdi-ticket",to:"/tickets"}];return(((o=l.value)==null?void 0:o.role)==="ADMIN"||((d=l.value)==null?void 0:d.role)==="SUPERVISOR")&&u.push({title:"Users",icon:"mdi-account-group",to:"/users"}),((a=l.value)==null?void 0:a.role)==="ADMIN"&&u.push({title:"Categories",icon:"mdi-folder-multiple",to:"/categories"},{title:"Settings",icon:"mdi-cog",to:"/settings"}),u});async function k(){await g.logout(),w.push("/login")}return(u,o)=>{const d=H("router-view");return v(),C(h,null,[e(L,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value=a),rail:m.value,permanent:""},{append:t(()=>[e(_),e(V,{density:"compact",nav:""},{default:t(()=>[e(n,{"prepend-icon":"mdi-logout",title:"Logout",onClick:k})]),_:1})]),default:t(()=>[e(n,{"prepend-avatar":"https://ui-avatars.com/api/?name=MHB&background=1976D2&color=fff",title:"MHB Help Desk",nav:""},{append:t(()=>[e(f,{icon:"mdi-chevron-left",variant:"text",onClick:o[0]||(o[0]=U(a=>m.value=!m.value,["stop"]))})]),_:1}),e(_),e(V,{density:"compact",nav:""},{default:t(()=>[(v(!0),C(h,null,P(D.value,a=>(v(),T(n,{key:a.title,"prepend-icon":a.icon,title:a.title,to:a.to,link:"",color:"primary"},null,8,["prepend-icon","title","to"]))),128))]),_:1})]),_:1},8,["modelValue","rail"]),e(b,{elevation:"1"},{default:t(()=>[e(z,{onClick:o[2]||(o[2]=a=>r.value=!r.value)}),e(E,null,{default:t(()=>[...o[3]||(o[3]=[x("MHB Help Desk",-1)])]),_:1}),e(R),e(f,{icon:"mdi-bell",variant:"text"}),e(j,null,{activator:t(({props:a})=>[e(f,G({icon:""},a),{default:t(()=>[e(J,{color:"primary",size:"32"},{default:t(()=>{var i,s;return[c("span",Q,p(((s=(i=l.value)==null?void 0:i.fullName)==null?void 0:s.split(" ").map(M=>M[0]).join("").toUpperCase())||"U"),1)]}),_:1})]),_:1},16)]),default:t(()=>[e(F,{"min-width":"250"},{default:t(()=>[e(O,null,{default:t(()=>{var a,i;return[c("div",q,p((a=l.value)==null?void 0:a.fullName),1),c("div",W,p((i=l.value)==null?void 0:i.email),1),c("div",X,[e($,{size:"small",color:"primary",variant:"tonal"},{default:t(()=>{var s;return[x(p((s=l.value)==null?void 0:s.role),1)]}),_:1})])]}),_:1}),e(_),e(V,{density:"compact"},{default:t(()=>[e(n,{"prepend-icon":"mdi-account",title:"Profile",to:"/profile"}),e(n,{"prepend-icon":"mdi-logout",title:"Logout",onClick:k})]),_:1})]),_:1})]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(K,{fluid:"",class:"pa-4"},{default:t(()=>[e(d)]),_:1})]),_:1})],64)}}});export{ee as default};
